# =============================================================================
# MoEngage Q&A Agent v2 - Environment Configuration
# =============================================================================

# =============================================================================
# Slack Configuration (필수)
# =============================================================================
# Bot User OAuth Token: Slack API → OAuth & Permissions → Bot User OAuth Token
# 형식: xoxb-로 시작
SLACK_BOT_TOKEN=xoxb-your-bot-token

# App-Level Token: Slack API → Basic Information → App-Level Tokens
# Socket Mode 활성화 후 생성, 형식: xapp-로 시작
SLACK_APP_TOKEN=xapp-your-app-token

# Signing Secret: Slack API → Basic Information → App Credentials
# 32자 hex 문자열
SLACK_SIGNING_SECRET=your-signing-secret

# =============================================================================
# Anthropic Claude API (필수)
# =============================================================================
# API Key: https://console.anthropic.com/ → API Keys
# 형식: sk-ant-로 시작
ANTHROPIC_API_KEY=sk-ant-your-api-key

# =============================================================================
# v2 CSM Channel Configuration (v2 필수)
# =============================================================================
# 봇이 답변을 게시할 CSM 채널 ID
# Slack에서 채널 우클릭 → View channel details → 하단의 Channel ID 복사
# 형식: C로 시작하는 11자리
CSM_RESPONSE_CHANNEL_ID=C0123456789

# CSM 내부 채널 ID (쉼표로 구분, 여러 개 가능)
# 이 채널들에서는 @멘션으로 대화형 Q&A 가능
CSM_CHANNEL_IDS=C0123456789

# CSM 채널 히스토리 저장 시 기본 고객명
CSM_DEFAULT_CUSTOMER=CSM Internal

# =============================================================================
# Redis (선택 - 상태 관리용)
# =============================================================================
# Redis 서버가 없으면 in-memory fallback 사용
REDIS_URL=redis://localhost:6379

# =============================================================================
# History API (선택 - Railway 원격 DB 연동용)
# =============================================================================
# v1과 DB를 공유하려면 같은 URL 설정
HISTORY_API_URL=
HISTORY_API_KEY=
HISTORY_API_ENABLED=false
HISTORY_API_PORT=8080

# =============================================================================
# MoEngage API Settings (선택)
# =============================================================================
MOENGAGE_HELP_CENTER_URL=https://help.moengage.com
MOENGAGE_API_CACHE_TTL=300

# =============================================================================
# Search Settings (선택)
# =============================================================================
MOENGAGE_SEARCH_TOP_K=5
HISTORY_SEARCH_TOP_K=3

# =============================================================================
# Vector DB - FAISS (선택)
# =============================================================================
CHROMA_PERSIST_DIR=./data/vectordb

# =============================================================================
# Emoji Configuration (선택)
# =============================================================================
# 티켓 생성 이모지 (기본: 🎫)
TICKET_EMOJI=ticket
# 티켓 완료 이모지 (기본: ✅)
COMPLETE_EMOJI=white_check_mark
# 긍정 피드백 이모지 (기본: 👍)
POSITIVE_FEEDBACK_EMOJI=+1
# 부정 피드백 이모지 (기본: 👎)
NEGATIVE_FEEDBACK_EMOJI=-1

# =============================================================================
# GCP Configuration (선택 - Cloud Run 배포용)
# =============================================================================
# 저장소 백엔드: "local" (기본) 또는 "gcs"
STORAGE_BACKEND=local
# GCP 프로젝트 ID
GCP_PROJECT_ID=
# Cloud Storage 버킷 이름 (STORAGE_BACKEND=gcs일 때 필수)
GCP_STORAGE_BUCKET=

# =============================================================================
# Logging (선택)
# =============================================================================
LOG_LEVEL=INFO
